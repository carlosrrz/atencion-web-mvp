<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <title>Proctoring – Entrada</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <style>
    :root{ --b:#2563eb; --bg:#f6f7fb; }
    html,body{height:100%} body{margin:0;background:var(--bg);font-family:system-ui,Segoe UI,Roboto}
    header{background:linear-gradient(90deg,#60a5fa,#3b82f6);color:#fff;padding:16px 22px;font-weight:700}
    main{max-width:900px;margin:24px auto;padding:0 16px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:18px}
    .card{background:#fff;border-radius:16px;box-shadow:0 10px 30px #0001;border:1px solid #e5e7eb;padding:18px}
    h2{margin:0 0 8px}
    p{color:#4b5563;margin:8px 0 16px}
    button{border:0;border-radius:12px;padding:10px 14px;cursor:pointer;font-weight:600}
    .btn{background:var(--b);color:#fff}
    .btn-lite{background:#eef2ff}
    .row{display:flex;gap:8px;flex-wrap:wrap}
    .help{font-size:12px;color:#6b7280;margin-top:6px}
  </style>
</head>
<body>
  <header>Proctoring – Evaluación</header>
  <main>
    <div class="grid">
      <section class="card">
        <h2>Entrar como estudiante</h2>
        <p>Podrás registrar tus datos, activar la cámara y rendir el examen. No verás telemetría del monitoreo.</p>
        <div class="row">
          <button id="btn-student" class="btn">Soy estudiante</button>
        </div>
        <div class="help">Se guarda localmente quién eres (rol) para dirigir la vista adecuada.</div>
      </section>

      <section class="card">
        <h2>Entrar como encargado</h2>
        <p>Verás la lista de intentos, resúmenes, capturas y podrás exportar a CSV.</p>
        <div class="row">
          <button id="btn-staff" class="btn-lite">Soy encargado</button>
        </div>
        <div class="help">Se usa un código simple (no es seguro) para evitar accesos accidentales.</div>
      </section>
    </div>
  </main>

  <script>
(function(){
  // Guardado simple de rol en localStorage
  const ROLE_KEY = 'proctor.role.v1';
  const setRole = r => { try{ localStorage.setItem(ROLE_KEY, r); }catch{} };

  // Cambia este código si quieres otro
  const PROCTOR_KEY = 'encargado2025';

  document.getElementById('btn-student')?.addEventListener('click', ()=>{
    setRole('estudiante');
    location.href = 'estudiante.html';
  });

  document.getElementById('btn-staff')?.addEventListener('click', ()=>{
    const v = prompt('Código del encargado:');
    if (v === PROCTOR_KEY){
      setRole('encargado');
      location.href = 'encargado.html';
    } else if (v != null){
      alert('Código incorrecto');
    }
  });
})();
</script>

</body>
</html>
