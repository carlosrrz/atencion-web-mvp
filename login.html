<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Ingreso</title>
  <link rel="stylesheet" href="./src/styles.css"/>
  <style>
    .wrap{max-width:420px;margin:60px auto;padding:20px;background:#fff;border:1px solid #e5e7eb;border-radius:14px}
    .row{display:flex;flex-direction:column;gap:8px}
    input{padding:10px;border:1px solid #e5e7eb;border-radius:10px}
    button{margin-top:8px}
  </style>
</head>
<body class="login">
  <div class="wrap">
    <h2>Ingreso</h2>
    <div class="row">
      <input id="user" placeholder="Usuario"/>
      <input id="pass" type="password" placeholder="Contraseña"/>
      <button id="btn" class="primary">Entrar</button>
    </div>
  </div>

  <script type="module">
    import { setRole } from './src/roles.js';

    // Credenciales fijas de MVP (solo para demo)
    const CREDS = {
      student: { user: 'alumno@ejemplo.com', pass: 'alumno123' },
      prof:    { user: 'profesor@ejemplo.com',  pass: 'profesor123'  }
    };

    const $ = (id)=>document.getElementById(id);
    $('btn').addEventListener('click', ()=>{
      const u = $('user').value.trim();
      const p = $('pass').value.trim();

      if (u === CREDS.student.user && p === CREDS.student.pass){
        setRole('student');
        location.replace('estudiante.html');
      } else if (u === CREDS.prof.user && p === CREDS.prof.pass){
        setRole('prof');
        location.replace('encargado.html');
      } else {
        alert('Credenciales inválidas');
      }
    });
  </script>
</body>
</html>
